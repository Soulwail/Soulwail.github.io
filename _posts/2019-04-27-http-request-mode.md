---
layout: post
title: HTTP 请求方法详解
date: 2019-04-28
desc: "HTTP 请求方法详解"
keywords: "http请求"
categories: [Http]
tags: [HTTP Request]
icon:
---

超文本传输协议（HTTP，HyperText Transfer Protocol），是一种无状态的协议，它位于 [OSI 七层模型](https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B)的传输层。HTTP 客户端会根据需要构建合适的 HTTP 请求方法，而 HTTP 服务器会根据不同的 HTTP 请求做出不同的响应。

<br>

## HTTP 版本与 HTTP 请求方法

在 HTTP 的发展过程中，出现了很多 HTTP 版本，其中的大部分协议都是向下兼容的。在进行 HTTP 请求时，客户端在请求时会告诉服务器它采用的协议版本号，而服务器则会在使用相同或者更早的协议版本进行响应。

### HTTP/0.9

这是 HTTP 最早规模使用的版本，现已过时，在这个版本中，只有 `GET` 一种请求方式，在 HTTP 通讯时，既没有指定版本号，也不支持请求头信息。该版本不支持 `POST` 等方法，因此客户端向服务器传递信息的能力非常有限。`HTTP/0.9` 的请求只有如下一行：

~~~javascript
GET www.google.com
~~~

### HTTP/1.0

这个版本是第一个在 HTTP 通讯中指定版本号的协议版本，`HTTP/1.0` 至今仍被广泛采用，特别是在代理服务器中。

`HTTP/1.0` 支持：`GET`、`POST`、`HEAD` 三种 HTTP 请求方法。

### HTTP/1.1

`HTTP/1.1` 是当前正在使用的版本。该版本默认采用持久连接，并能很好地配合代理服务器工作，还支持以管道方式同时发送多个请求，以便降低线路负载，提高传输速度。

### HTTP/2

这个版本是最新（2015 年 5 月）发布的版本。`HTTP/2` 通过支持请求与响应的多路重用来减少延迟，通过压缩 HTTP 头字段，将协议开销降到最低，同时增加了对请求优先级和服务器端推送的支持。

<br>

## HTTP 请求方法介绍

`HTTP/1.1` 协议中共定义了 8 种 HTTP 请求方法，HTTP 请求方法也被叫做“请求动作”，不同的方法规定了不同的操作指定的资源方式。服务器也会根据不同的请求方法做出不同的响应。

|请求方法|说明|
|---|---|
|GET|`GET` 请求会 `显示` 请求指定的资源。一般来说 GET 方法应该只用于数据的读取，而不应该用于会产生副作用的 `非幂等` 的操作中。它期望的应该是而且应该是安全的和幂等的。这里的安全指的是，请求不会影响到资源的状态。|
|HEAD|`HEAD` 方法与 `GET` 方法一样，都是向服务器发出指定资源的请求。但是，服务器在响应 `HEAD` 请求时，不会回传资源的内容部分，即响应主体。这样，我们可以不传输全部内容的情况下，就可以获取服务器的响应头信息。`HEAD` 方法常被用于客户端查看服务器的性能。|
|POST|`POST` 请求会向指定资源提交数据，请求服务器进行处理，如：表单数据提交、文件上传等，请求数据会被包含在请求体中。`POST` 方法是 `非幂等` 的方法，因为这个请求可能会创建新的资源或/和修改现有资源。|
|PUT|`PUT` 请求会向指定资源位置上传其最新的内容，`PUT` 方法是 `幂等` 的方法。通过该方法，客户端可以将指定资源的最新数据传送给服务器，取代指定的资源内容。|
|DELETE|`DELETF` 请求用于请求服务器删除所请求 `URI`（统一资源标识符，Uniform Resource Identifier）所标识的资源。`DELETE` 请求后指定资源会被删除，`DELETE` 方法也是 `幂等` 的。|
|CONNECT|`CONNECT` 方法是 `HTTP/1.1` 协议预留的，能够将连接改为管道方式的代理服务器。通常用于 [SSL](https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A) 加密服务器的链接与非加密的 HTTP 代理服务器的通信。|
|OPTIONS|`OPTIONS` 请求与 `HEAD` 类似，一般也是用于客户端查看服务器的性能。这个方法会请求服务器返回该资源所支持的所有 HTTP 请求方法，该方法会用来代替资源名称，向服务器发送 `OPTIONS` 请求，可以测试服务器功能是否正常。JavaScript 的 [XMLHttpRequest](https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest) 对象进行 `CORS` 跨域资源共享时，就是使用 `OPTIONS` 方法发送嗅探请求，以判断是否有对指定资源的访问权限。|
|TRACE|`TRACE` 请求服务器会显示其收到的请求信息，该方法主要用于 HTTP 请求的测试或诊断。|

在 `HTTP/1.1` 标准制定之后，又陆续扩展了一些方法。其中使用中较多的是 `PATCH` 方法：

|请求方法|说明|
|---|---|
|PATCH|`PATCH` 方法出现的较晚，它在 2010 年的 [RFC 5789](https://tools.ietf.org/html/rfc5789) 标准中被定义。`PATCH` 请求与 `PUT` 请求类似，同样用于资源的更新。二者主要有两点不同：1、`PATCH` 一般用于资源的部分更新，而 `PUT` 一般用于资源的阿整体更新；2、当资源不存在时，`PATCH` 会创建一个新的资源，而 PUT 只会对已有资源进行更新。|

<br>

> 幂等：对同一个系统，使用同样的条件，一次请求和重复的多次请求对系统资源的影响是一致的。

注：

- GET 可提交的数据量受到 URL 长度的限制，HTTP 协议规范没有对 URL长度进行限制，这个限制是特定的浏览器以及服务器对它的限制。
- 理论上讲，POST 是没有大小限制的，HTTP 协议规范也没有进行大小限制，出于安全考虑，服务器软件在实现时会做一定限制。

### 参考文档

[HTTP请求方法：GET、HEAD、POST、PUT、DELETE、CONNECT、OPTIONS、TRACE](https://itbilu.com/other/relate/EkwKysXIl.html "hp")
